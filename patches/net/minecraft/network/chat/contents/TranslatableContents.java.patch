--- a/net/minecraft/network/chat/contents/TranslatableContents.java
+++ b/net/minecraft/network/chat/contents/TranslatableContents.java
@@ -8,7 +_,6 @@
 import com.mojang.serialization.DataResult;
 import com.mojang.serialization.MapCodec;
 import com.mojang.serialization.codecs.RecordCodecBuilder;
-import com.mojang.serialization.codecs.RecordCodecBuilder.Instance;
 import java.util.Arrays;
 import java.util.List;
 import java.util.Objects;
@@ -57,7 +_,7 @@
     private List<FormattedText> decomposedParts = ImmutableList.of();
     private static final Pattern FORMAT_PATTERN = Pattern.compile("%(?:(\\d+)\\$)?([A-Za-z%]|$)");
 
-    private static DataResult<Object> filterAllowedArguments(@Nullable Object p_304727_) {
+    public static DataResult<Object> filterAllowedArguments(@Nullable Object p_304727_) {
         return !isAllowedPrimitiveArgument(p_304727_) ? DataResult.error(() -> "This value needs to be parsed as component") : DataResult.success(p_304727_);
     }
 
@@ -81,6 +_,13 @@
         this.key = p_265775_;
         this.fallback = p_265204_;
         this.args = p_265752_;
+        if (!net.neoforged.fml.loading.FMLEnvironment.production) {
+            for (Object arg : this.args) {
+                if (!(arg instanceof Component) && !isAllowedPrimitiveArgument(arg)) {
+                    throw new IllegalArgumentException("TranslatableContents' arguments must be either a Component, Number, Boolean, or a String. Was given " + arg + " for " + this.key);
+                }
+            }
+        }
     }
 
     @Override
@@ -92,6 +_,13 @@
         Language language = Language.getInstance();
         if (language != this.decomposedWith) {
             this.decomposedWith = language;
+
+            Component langComponent = language.getComponent(this.key);
+            if (langComponent != null) {
+                this.decomposedParts = ImmutableList.of(langComponent);
+                return;
+            }
+
             String s = this.fallback != null ? language.getOrDefault(this.key, this.fallback) : language.getOrDefault(this.key);
 
             try {
@@ -170,6 +_,12 @@
     public <T> Optional<T> visit(FormattedText.StyledContentConsumer<T> p_237521_, Style p_237522_) {
         this.decompose();
 
+        if (!net.neoforged.neoforge.common.util.InsertingContents.pushTranslation(this)) {
+            // Reference cycle.
+            return Optional.empty();
+        }
+
+        try {
         for (FormattedText formattedtext : this.decomposedParts) {
             Optional<T> optional = formattedtext.visit(p_237521_, p_237522_);
             if (optional.isPresent()) {
@@ -178,12 +_,50 @@
         }
 
         return Optional.empty();
-    }
+        } finally {
+            net.neoforged.neoforge.common.util.InsertingContents.popTranslation();
+        }
+    }
+
+    // Paper start - Count visited parts
+    private static final class TranslatableContentConsumer<T> implements FormattedText.ContentConsumer<T> {
+        private static final IllegalArgumentException EX = new IllegalArgumentException("Too long");
+        private final FormattedText.ContentConsumer<T> visitor;
+        private int visited;
+
+        private TranslatableContentConsumer(FormattedText.ContentConsumer<T> visitor) {
+            this.visitor = visitor;
+        }
+
+        @Override
+        public Optional<T> accept(final String asString) {
+            if (visited++ > 32) {
+                throw EX;
+            }
+            return this.visitor.accept(asString);
+        }
+    }
+    // Paper end - Count visited parts
 
     @Override
     public <T> Optional<T> visit(FormattedText.ContentConsumer<T> p_237519_) {
+        // Paper start - Count visited parts
+        try {
+            return this.visit(new TranslatableContentConsumer<>(p_237519_));
+        } catch (IllegalArgumentException ignored) {
+            return p_237519_.accept("...");
+        }
+    }
+    private <T> Optional<T> visit(TranslatableContentConsumer<T> p_237519_) {
+        // Paper end - Count visited parts
         this.decompose();
 
+        if (!net.neoforged.neoforge.common.util.InsertingContents.pushTranslation(this)) {
+            // Reference cycle.
+            return Optional.empty();
+        }
+
+        try {
         for (FormattedText formattedtext : this.decomposedParts) {
             Optional<T> optional = formattedtext.visit(p_237519_);
             if (optional.isPresent()) {
@@ -192,6 +_,9 @@
         }
 
         return Optional.empty();
+        } finally {
+            net.neoforged.neoforge.common.util.InsertingContents.popTranslation();
+        }
     }
 
     @Override
