--- a/net/minecraft/world/item/SpawnEggItem.java
+++ b/net/minecraft/world/item/SpawnEggItem.java
@@ -42,11 +_,14 @@
     private final int highlightColor;
     private final EntityType<?> defaultType;
 
+    /** @deprecated Forge: Use {@link net.neoforged.neoforge.common.DeferredSpawnEggItem} instead for suppliers */
+    @Deprecated
     public SpawnEggItem(EntityType<? extends Mob> p_43207_, int p_43208_, int p_43209_, Item.Properties p_43210_) {
         super(p_43210_);
         this.defaultType = p_43207_;
         this.backgroundColor = p_43208_;
         this.highlightColor = p_43209_;
+        if (p_43207_ != null)
         BY_ID.put(p_43207_, this);
     }
 
@@ -61,7 +_,26 @@
             Direction direction = p_43223_.getClickedFace();
             BlockState blockstate = level.getBlockState(blockpos);
             if (level.getBlockEntity(blockpos) instanceof Spawner spawner) {
+                if (level.paperConfig().entities.spawning.disableMobSpawnerSpawnEggTransformation) return InteractionResult.FAIL; // Paper - Allow disabling mob spawner spawn egg transformation
                 EntityType<?> entitytype1 = this.getType(itemstack);
+                // Purpur start
+                if (spawner instanceof net.minecraft.world.level.block.entity.SpawnerBlockEntity) {
+                    org.bukkit.block.Block bukkitBlock = level.getWorld().getBlockAt(blockpos.getX(), blockpos.getY(), blockpos.getZ());
+                    org.purpurmc.purpur.event.PlayerSetSpawnerTypeWithEggEvent event = new org.purpurmc.purpur.event.PlayerSetSpawnerTypeWithEggEvent((org.bukkit.entity.Player) p_43223_.getPlayer().getBukkitEntity(), bukkitBlock, (org.bukkit.block.CreatureSpawner) bukkitBlock.getState(), org.bukkit.entity.EntityType.fromName(entitytype1.getName()));
+                    if (!event.callEvent()) {
+                        return InteractionResult.FAIL;
+                    }
+                    entitytype1 = EntityType.getFromBukkitType(event.getEntityType());
+                } else if (spawner instanceof net.minecraft.world.level.block.entity.TrialSpawnerBlockEntity) {
+                    org.bukkit.block.Block bukkitBlock = level.getWorld().getBlockAt(blockpos.getX(), blockpos.getY(), blockpos.getZ());
+                    org.purpurmc.purpur.event.PlayerSetTrialSpawnerTypeWithEggEvent event = new org.purpurmc.purpur.event.PlayerSetTrialSpawnerTypeWithEggEvent((org.bukkit.entity.Player) p_43223_.getPlayer().getBukkitEntity(), bukkitBlock, (org.bukkit.block.TrialSpawner) bukkitBlock.getState(), org.bukkit.entity.EntityType.fromName(entitytype1.getName()));
+                    if (!event.callEvent()) {
+                        return InteractionResult.FAIL;
+                    }
+                    entitytype1 = EntityType.getFromBukkitType(event.getEntityType());
+                }
+                // Purpur end
+
                 spawner.setEntityId(entitytype1, level.getRandom());
                 level.sendBlockUpdated(blockpos, blockstate, blockstate, 3);
                 level.gameEvent(p_43223_.getPlayer(), GameEvent.BLOCK_CHANGE, blockpos);
@@ -134,6 +_,8 @@
 
     @Nullable
     public static SpawnEggItem byId(@Nullable EntityType<?> p_43214_) {
+        var ret = net.neoforged.neoforge.common.DeferredSpawnEggItem.deferredOnlyById(p_43214_);
+        if (ret != null) return ret;
         return BY_ID.get(p_43214_);
     }
 
@@ -143,12 +_,12 @@
 
     public EntityType<?> getType(ItemStack p_330335_) {
         CustomData customdata = p_330335_.getOrDefault(DataComponents.ENTITY_DATA, CustomData.EMPTY);
-        return !customdata.isEmpty() ? customdata.read(ENTITY_TYPE_FIELD_CODEC).result().orElse(this.defaultType) : this.defaultType;
+        return !customdata.isEmpty() ? customdata.read(ENTITY_TYPE_FIELD_CODEC).result().orElse(getDefaultType()) : getDefaultType();
     }
 
     @Override
     public FeatureFlagSet requiredFeatures() {
-        return this.defaultType.requiredFeatures();
+        return this.getDefaultType().requiredFeatures();
     }
 
     public Optional<Mob> spawnOffspringFromSpawnEgg(
@@ -172,6 +_,7 @@
                     return Optional.empty();
                 } else {
                     mob.moveTo(p_43220_.x(), p_43220_.y(), p_43220_.z(), 0.0F, 0.0F);
+                    mob.spawnReason(org.bukkit.event.entity.CreatureSpawnEvent.SpawnReason.SPAWNER_EGG); // CraftBukkit
                     p_43219_.addFreshEntityWithPassengers(mob);
                     mob.setCustomName(p_43221_.get(DataComponents.CUSTOM_NAME));
                     p_43221_.consume(1, p_43216_);
@@ -179,5 +_,9 @@
                 }
             }
         }
+    }
+
+    protected EntityType<?> getDefaultType() {
+        return defaultType;
     }
 }
